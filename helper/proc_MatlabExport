MatlabExport := proc (Term, filepath, optimierung) 
  local Tmp, fd; 
  if optimierung = 1 then 
    Tmp := eval([codegen:-optimize](Term),pow = `^`);
  elif optimierung = 2 then 
    Tmp := eval([codegen:-optimize](Term,tryhard),pow = `^`);
  else 
    Tmp := Term ;
  end if; 
  # Zieldatei l√∂schen
  fd := fopen(filepath,WRITE); 
  fclose(fd); 
  # Optimierten Code direkt exportieren
  CodeGeneration[Matlab](Tmp,optimize = false,resultname = "res",output = filepath); 
  printf("Exported Matlab code to %s\n",filepath) 
end proc;
