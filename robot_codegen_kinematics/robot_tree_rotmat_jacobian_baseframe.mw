<?xml version="1.0" encoding="UTF-8"?>
<Worksheet>
<Version major="2018" minor="0"/>
<Label-Scheme value="2" prefix=""/>
<View-Properties presentation="false" autoexpanding_sections="true" UserProfileName="Maple Default Profile" NumericFormat-ApplyInteger="true" NumericFormat-ApplyRational="true" NumericFormat-ApplyExponent="false" editable="true">
</View-Properties>
<MapleNet-Properties prettyprint="3" warnlevel="3" preplot="" helpbrowser="standard" displayprecision="-1" echo="1" unitattributes="&quot;fontweight&quot; = &quot;bold&quot;" imaginaryunit="I" longdelim="true" elisiontermsthreshold="10000" elisiondigitsafter="100" elisiondigitsbefore="100" plotdevice="inline" errorbreak="1" plotoptions="" plotdriver="opengl" quiet="false" elisiontermsbefore="100" elisiontermsafter="100" screenwidth="79" indentamount="4" plotoutput="terminal" screenpixelheight="1200" rtablesize="10" useclientjvm="true" labelwidth="20" postplot="" typesetting="extended" ansi="false" elisiondigitsthreshold="10000" showassumed="1" errorcursor="false" labelling="true" screenheight="25" prompt="&gt; " verboseproc="1" latexwidth="8.0" ShowLabels="true"/>
<Styles>
<Font name="Heading 1" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="18" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Warning" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="2D Output" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Heading 4" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="true" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Line Printed Output" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Heading 2" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="16" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Output" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="2D Inert Output" background="[255,255,255]" bold="false" executable="true" family="Times New Roman" foreground="[144,144,144]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Heading 3" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="true" opaque="false" readonly="false" size="14" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Diagnostic" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[40,120,40]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 1" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Input" background="[255,255,255]" bold="true" executable="true" family="Courier New" foreground="[120,0,14]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Text Output" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 2" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 3" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 4" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Ordered List 5" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Annotation Title" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="18" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Header and Footer" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="10" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="HyperlinkError" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[255,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="Atomic Variable" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[175,0,175]" italic="true" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="HyperlinkWarning" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[0,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="Dictionary Hyperlink" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[147,0,15]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="2D Math" background="[255,255,255]" bold="false" executable="true" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Bullet Item" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Plot" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Annotation Text" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="List Item" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Dash Item" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="2D Input" background="[255,255,255]" bold="false" executable="true" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Error" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[255,0,255]" italic="false" opaque="false" readonly="true" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Title" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="18" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Text" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Normal" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Caption Reference" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Code" background="[255,255,255]" bold="false" executable="false" family="Courier New" foreground="[255,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Maple Input Placeholder" background="[255,255,255]" bold="true" executable="true" family="Courier New" foreground="[200,0,200]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="true"/>
<Font name="Equation Label" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Author" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Font name="Hyperlink" background="[255,255,255]" bold="false" executable="false" family="Times New Roman" foreground="[0,128,128]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="true" placeholder="false"/>
<Font name="Caption Text" background="[255,255,255]" bold="true" executable="false" family="Times New Roman" foreground="[0,0,0]" italic="false" opaque="false" readonly="false" size="12" subscript="false" superscript="false" underline="false" placeholder="false"/>
<Layout name="Heading 1" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="8" spacebelow="4" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Warning" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Heading 4" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Line Printed Output" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="any" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Heading 2" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="8" spacebelow="2" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Maple Output" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.3" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Heading 3" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Diagnostic" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="any" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Ordered List 1" alignment="left" bullet="numeric" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix=""/>
<Layout name="Text Output" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="newline" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Ordered List 2" alignment="left" bullet="alphabetic" firstindent="0" leftmargin="36" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix=""/>
<Layout name="Ordered List 3" alignment="left" bullet="roman" firstindent="0" leftmargin="72" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix=""/>
<Layout name="Ordered List 4" alignment="left" bullet="ALPHABETIC" firstindent="0" leftmargin="108" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix=""/>
<Layout name="Ordered List 5" alignment="left" bullet="ROMAN" firstindent="0" leftmargin="144" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="-1" bulletsuffix=""/>
<Layout name="Annotation Title" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="12" spacebelow="12" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="HyperlinkError" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="HyperlinkWarning" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Bullet Item" alignment="left" bullet="dot" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Maple Plot" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="List Item" alignment="left" bullet="indent" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Dash Item" alignment="left" bullet="dash" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="3" spacebelow="3" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Error" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Title" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="12" spacebelow="12" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Normal" alignment="left" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="0" spacebelow="0" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Layout name="Author" alignment="centred" bullet="none" firstindent="0" leftmargin="0" rightmargin="0" linespacing="0.0" spaceabove="8" spacebelow="8" linebreak="space" pagebreak-before="false" initial="0" bulletsuffix=""/>
<Pencil-style name="Pencil 1" pen-color="[0,0,0]" pen-height="1.0" pen-width="1.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 2" pen-color="[0,0,255]" pen-height="1.0" pen-width="1.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 3" pen-color="[0,0,0]" pen-height="3.0" pen-width="3.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 4" pen-color="[0,0,255]" pen-height="3.0" pen-width="3.0" pen-opacity="1.0"/>
<Pencil-style name="Pencil 5" pen-color="[255,0,0]" pen-height="5.0" pen-width="5.0" pen-opacity="1.0"/>
<Highlighter-style name="Highlighter 5" pen-color="[255,255,0]" pen-height="48.0" pen-width="48.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 3" pen-color="[51,255,0]" pen-height="24.0" pen-width="24.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 4" pen-color="[0,255,255]" pen-height="32.0" pen-width="32.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 1" pen-color="[255,153,255]" pen-height="12.0" pen-width="8.0" pen-opacity="0.8"/>
<Highlighter-style name="Highlighter 2" pen-color="[255,204,0]" pen-height="14.0" pen-width="14.0" pen-opacity="0.8"/>
</Styles>
<Startup-Code startupcode=""/>
<Task-table>
    <Task-category name="&lt;default&gt;"/>
</Task-table>
<Task/>
<Group labelreference="L1" drawlabel="true">
<Input><Text-field style="Title" layout="Title">Calculate Jacobi-Matrix based on MDH-Frames</Text-field>
</Input>
</Group>
<Group labelreference="L1503" drawlabel="true">
<Input><Text-field style="Heading 2" layout="Heading 2">Introduction</Text-field><Text-field style="Normal" layout="Normal"><Font encoding="UTF-8">Jacobi-Matrix f\303\274r Roboterkinematik basierend auf MDH-Parametern berechnen.
Die Berechnung erfolgt durch symbolische Ableitung der Transformationsmatrizen f\303\274r jeden K\303\266rper</Font>

<Font encoding="UTF-8">robot -&gt; Berechnung f\303\274r allgemeinen Roboter
tree -&gt; Berechnung f\303\274r eine beliebige Baumstruktur (ohne Schleifen)
</Font>rotmat -&gt; Kinematik wird mit Rotationsmatrizen berechnet
jacobian -&gt; Berechnung der Jacobi-Matrix
baseframe -&gt; Berechnung der Jacobi-Matrix bezogen auf das Basis-Koordinatensystem des Roboters (nicht: Welt-KS)
</Text-field>
</Input>
</Group>
<Group labelreference="L1510" drawlabel="true">
<Input><Text-field style="Heading 2" layout="Heading 2">Tests</Text-field><Text-field style="Normal" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L1501" drawlabel="true">
<Input><Text-field style="Heading 2" layout="Heading 2">Autor</Text-field><Text-field style="Normal" layout="Normal">Moritz Schappler, schappler@irt.uni-hannover.de, 2016-10</Text-field><Text-field style="Normal" layout="Normal">(C) Institut fuer Regelungstechnik, Leibniz Universitaet Hannover</Text-field><Text-field style="Text" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L1502" drawlabel="true">
<Input><Text-field style="Heading 2" layout="Heading 2">Sources</Text-field><Text-field style="Normal" layout="Normal"><Font style="Text">[Ortmaier2014] Vorlesungsskript Robotik I
[Ortmaier2014a] Vorlesungsskript Robotik II</Font></Text-field>
</Input>
</Group>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1">Initialization</Text-field></Title>
<Group labelreference="L2163" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font encoding="UTF-8">interface(warnlevel=0): # Unterdr\303\274cke die folgende Warnung.
restart: # Gibt eine Warnung, wenn \303\274ber Terminal-Maple mit read gestartet wird.
</Font>interface(warnlevel=3):</Text-field>
</Input>
</Group>
<Group labelreference="L2179" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">with(LinearAlgebra):
with(ArrayTools):
with(codegen):
with(CodeGeneration):
with(StringTools):
printlevel := 2:</Text-field>
</Input>
</Group>
<Group labelreference="L2177" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">codegen_act := true:
codegen_debug := false:
codegen_opt := 2:</Text-field>
</Input>
</Group><Presentation-Block>
<Group view="code" labelreference="L2195" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal">Funktionen aus Robotik-Repo</Text-field>
</Input>
</Group>
<Group labelreference="L2194" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">read(&quot;../robotics_repo_path&quot;):</Text-field>
</Input>
</Group>
<Group labelreference="L2193" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">read(sprintf(&quot;%s/transformation/maple/proc_r2eulxyz_inert&quot;, robotics_repo_path)):</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L2192" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L2143" drawlabel="true">
<Input><Text-field style="Text" layout="Normal">Funktionen aus IRT-Maple-Repo</Text-field>
</Input>
</Group>
<Group labelreference="L2130" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">read sprintf(&quot;../helper/proc_MatlabExport&quot;, maple_repo_path):</Text-field>
</Input>
</Group>
<Group view="code" labelreference="L2133" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">read sprintf(&quot;../transformation/proc_transl&quot;, maple_repo_path):</Text-field>
</Input>
</Group>
<Group labelreference="L2128" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">read &quot;../helper/proc_convert_s_t&quot;:
read &quot;../helper/proc_convert_t_s&quot;: </Text-field>
</Input>
</Group></Presentation-Block>
<Group labelreference="L2139" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">read &quot;../robot_codegen_definitions/robot_env&quot;:</Text-field>
</Input>
</Group>
<Group labelreference="L2141" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">read sprintf(&quot;../codeexport/%s/tmp/tree_floatb_definitions&quot;, robot_name):</Text-field>
</Input>
</Group>
<Group labelreference="L2159" drawlabel="true">
<Input><Text-field style="Text" layout="Normal">Ergebnisse der Kinematik laden</Text-field>
</Input>
</Group>
<Group labelreference="L2160" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">read sprintf(&quot;../codeexport/%s/tmp/kinematics_floatb_%s_rotmat_maple.m&quot;, robot_name, base_method_name):
Trf := Trf:
Trf_c := Trf_c:</Text-field>
</Input>
</Group>
<Group labelreference="L2151" drawlabel="true">
<Input><Text-field style="Text" layout="Normal"><Font encoding="UTF-8">Link-Index, f\303\274r den die Jacobi-Matrix aufgestellt wird. Hier wird angenommen, dass der Endeffektor das letzte Segment (=Link) ist. Die Jacobi-Matrix kann hier aber f\303\274r beliebige Segmente aufgestellt werden. (0=Basis)</Font></Text-field>
</Input>
</Group>
<Group labelreference="L2137" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">LIJAC:=NL-1:</Text-field>
</Input>
</Group>
<Group labelreference="L2147" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font encoding="UTF-8">printf(&quot;Generiere Jacobi-Matrix f\303\274r %s (K\303\266rper %d)\134n&quot;, robot_name, </Font>LIJAC):</Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1">Jacobi-Matrix analytisch (Translatorisch)</Text-field></Title>
<Group labelreference="L2178" drawlabel="true">
<Input><Text-field style="Text" layout="Normal">Ortmaier2014a Gl. (1.15), S.14: Geometrische Zwangsbedingungen in impliziter Form
<Font encoding="UTF-8">Gleichung enth\303\244lt verallgemeinerte Koordinaten und Endeffektorposition und ergibt Null.</Font></Text-field>
</Input>
</Group>
<Group labelreference="L2131" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">x_EE := Matrix(3,1,&lt;r_xEE; r_yEE; r_zEE&gt;):</Text-field>
</Input>
</Group>
<Group labelreference="L2149" drawlabel="true">
<Input><Text-field style="Text" layout="Normal"><Font encoding="UTF-8">Transformationsmatrix von der Basis zum gegebenen Punkt auf dem K\303\266rper. Die Koordinaten px,py,pz f\303\274r den Punkt werden sp\303\244ter eingesetzt.</Font></Text-field>
</Input>
</Group>
<Group labelreference="L2152" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">T_p := Trf_c(1 .. 4, 1..4, LIJAC+1) . transl(&lt;px;py;pz&gt;):</Text-field>
</Input>
</Group>
<Group labelreference="L2150" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">h_transl := Matrix(T_p(1..3,4)) - x_EE:</Text-field>
</Input>
</Group>
<Group labelreference="L2181" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">h_transl_s :=convert_t_s(h_transl):</Text-field>
</Input>
</Group>
<Group labelreference="L2132" drawlabel="true">
<Input><Text-field style="Text" layout="Normal">Jacobi-Matrix der inversen Kinematik</Text-field>
</Input>
</Group>
<Group labelreference="L2144" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">b_transl := Matrix(3, NQJ):</Text-field>
</Input>
</Group>
<Group labelreference="L2129" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">for i from 1 to 3 do
  for j from 1 to NQJ do
    b_transl(i,j) := diff(h_transl_s(i,1), qJ_s(j,1)):
  end do:
end do:</Text-field>
</Input>
</Group>
<Group labelreference="L2158" drawlabel="true">
<Input><Text-field style="Text" layout="Normal">Export</Text-field>
</Input>
</Group>
<Group labelreference="L2155" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">save b_transl, sprintf(&quot;../codeexport/%s/tmp/jacobia_transl_%d_maple.m&quot;, robot_name, LIJAC):</Text-field>
</Input>
</Group>
<Group labelreference="L2167" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"><Font encoding="UTF-8"># Ausdruck muss nochmal geladen werden, ansonsten h\303\244ngt sich die Code-Optimerung mit &quot;tryhard&quot; auf.
# TODO: Kl\303\244ren warum das so ist und Problem beheben.
</Font>read sprintf(&quot;../codeexport/%s/tmp/jacobia_transl_%d_maple.m&quot;, robot_name, LIJAC):
b_transl := b_transl:</Text-field>
</Input>
</Group>
<Group labelreference="L2154" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">if codegen_act and codegen_debug then
  for i from 1 to 3 do
    for j from 1 to NQJ do
      MatlabExport(b_transl(i,j), sprintf(&quot;../codeexport/%s/tmp/jacobia_transl_%d_floatb_%s_%d_%d_matlab.m&quot;, robot_name, LIJAC, base_method_name, i, j), codegen_opt):
    end do:
  end do:
end if:</Text-field>
</Input>
</Group>
<Group labelreference="L2157" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">if codegen_act then
  MatlabExport(b_transl, sprintf(&quot;../codeexport/%s/tmp/jacobia_transl_%d_floatb_%s_matlab.m&quot;, robot_name, LIJAC, base_method_name), codegen_opt):
end if:</Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1">Jacobi-Matrix analytisch (Rotatorisch)</Text-field></Title>
<Group labelreference="L2142" drawlabel="true">
<Input><Text-field style="Text" layout="Normal">Ortmaier2014a Gl. (1.15), S.14: Geometrische Zwangsbedingungen in impliziter Form
Rotationsdarstellung des Endeffektors in RPY-Winkeln</Text-field>
</Input>
</Group>
<Group labelreference="L2183" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">xo_EE := Matrix(3,1,&lt;phi_xEE; phi_yEE; phi_zEE&gt;):</Text-field>
</Input>
</Group>
<Group labelreference="L2145" drawlabel="true">
<Input><Text-field style="Text" layout="Normal"><Font encoding="UTF-8">r2eulxyz_inert liefert inert-arctan (%). Auswertung vor Export dauert zu lange. In exportiertem Matlab-Code muss &quot;%arctan&quot; h\303\244ndisch gegen &quot;atan2&quot; getauscht werden.</Font></Text-field>
</Input>
</Group>
<Group labelreference="L2140" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">h_rota_rpy := r2eulxyz_inert(T_p) - xo_EE: 
h_rota_s :=convert_t_s(h_rota_rpy):</Text-field>
</Input>
</Group>
<Group labelreference="L2182" drawlabel="true">
<Input><Text-field style="Text" layout="Normal">Jacobi-Matrix der inversen Kinematik
<Font encoding="UTF-8">Falls die RPY-Darstellung f\303\274r dieses K\303\266rper-KS singul\303\244r ist, existiert die analytische Jacobi-Matrix nicht. Maple gibt dann einen Fehler aus. Die Kennzeichnung mit NaN sorgt daf\303\274r, dass dies in Matlab erkennbar ist.
Die Singularit\303\244t kann bei kinematischen Strukturen am Anfang auftreten.</Font></Text-field>
</Input>
</Group>
<Group labelreference="L2148" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">b_rota := Matrix(3, NQJ):</Text-field>
</Input>
</Group>
<Group labelreference="L2176" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">for i from 1 to 3 do
  for j from 1 to NQJ do
    if T_p(3,3) = 0 then
      <Font encoding="UTF-8">b_rota(i,j) := NaN: # Singul\303\244r
</Font>    else
      b_rota(i,j) := diff(h_rota_s(i,1), qJ_s(j,1)):
    end if:
  end do:
end do:</Text-field>
</Input>
</Group>
<Group labelreference="L2138" drawlabel="true">
<Input><Text-field style="Text" layout="Normal">Export</Text-field>
</Input>
</Group>
<Group labelreference="L2136" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">save b_rota, sprintf(&quot;../codeexport/%s/tmp/jacobia_rot_%d_maple.m&quot;, robot_name, LIJAC):</Text-field>
</Input>
</Group>
<Group labelreference="L2166" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"># Ausdruck nochmal laden.
read sprintf(&quot;../codeexport/%s/tmp/jacobia_rot_%d_maple.m&quot;, robot_name, LIJAC):
b_rota := b_rota:</Text-field>
</Input>
</Group>
<Group labelreference="L2164" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font encoding="UTF-8">Einzelne Ausdr\303\274cke als Code exportieren (falls Gesamtausdruck zu komplex ist)</Font></Text-field>
</Input>
</Group>
<Group labelreference="L2146" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">if codegen_act and codegen_debug then
  for i from 1 to 3 do
    for j from 1 to NQJ do
      MatlabExport(b_rota(i,j), sprintf(&quot;../codeexport/%s/tmp/jacobia_rot_%d_floatb_%s_%d_%d_matlab.m&quot;, robot_name, LIJAC, base_method_name, i, j), codegen_opt):
    end do:
  end do:
end if:</Text-field>
</Input>
</Group>
<Group labelreference="L2135" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">if codegen_act then
  MatlabExport(b_rota, sprintf(&quot;../codeexport/%s/tmp/jacobia_rot_%d_floatb_%s_matlab.m&quot;, robot_name, LIJAC, base_method_name), codegen_opt):
end if:</Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1">Jacobi-Matrix geometrisch (Rotatorisch)</Text-field></Title>
<Group labelreference="L2161" drawlabel="true">
<Input><Text-field style="Text" layout="Normal"><Font encoding="UTF-8">Zusammenhang zwischen Geschwindigkeit der verallgemeinerten Koordinaten und Winkelgeschwindigkeit des Endeffektors ausgedr\303\274ckt im Basis-Koordinatensystems</Font></Text-field>
</Input>
</Group>
<Group labelreference="L2174" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">read sprintf(&quot;../codeexport/%s/tmp/velocity_worldframe_floatbase_%s_par1_maple.m&quot;, robot_name, base_method_name):</Text-field>
</Input>
</Group>
<Group labelreference="L2180" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">omega_W_i := omega_W_i:</Text-field>
</Input>
</Group>
<Group labelreference="L2170" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">omega_EE := Matrix(3,1,&lt;omega_xEE; omega_yEE; omega_zEE&gt;):</Text-field>
</Input>
</Group>
<Group labelreference="L2134" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">h_rotg := Matrix(omega_W_i(1..3,LIJAC+1)) - omega_EE:</Text-field>
</Input>
</Group>
<Group labelreference="L2165" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">h_rotg_s :=convert_t_s(h_rotg):</Text-field>
</Input>
</Group>
<Group labelreference="L2169" drawlabel="true">
<Input><Text-field style="Text" layout="Normal">Jacobi-Matrix der inversen Kinematik
Leite die Winkelgeschwindigkeiten des Endeffektors nach den Gelenkwinkelgeschwindigkeiten ab.
Damit wird der Zusammenhang nach Ortmaier2014 Gl. (4.17), S.51 umgeformt.</Text-field>
</Input>
</Group>
<Group labelreference="L2175" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">b_rotg := Matrix(3, NQJ):</Text-field>
</Input>
</Group>
<Group labelreference="L2156" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">for i from 1 to 3 do
  for j from 1 to NQJ do
    b_rotg(i,j) := diff(h_rotg_s(i,1), qJD_s(j,1)):
  end do:
end do:</Text-field>
</Input>
</Group>
<Group labelreference="L2153" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">B_s := b_rotg:</Text-field>
</Input>
</Group>
<Group labelreference="L2162" drawlabel="true">
<Input><Text-field style="Text" layout="Normal">Export</Text-field>
</Input>
</Group>
<Group labelreference="L2171" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">save b_rotg, sprintf(&quot;../codeexport/%s/tmp/jacobig_rot_%d_maple.m&quot;, robot_name, LIJAC):</Text-field>
</Input>
</Group>
<Group labelreference="L2168" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"># Ausdruck nochmal laden.
read sprintf(&quot;../codeexport/%s/tmp/jacobig_rot_%d_maple.m&quot;, robot_name, LIJAC):
b_rotg := b_rotg:</Text-field>
</Input>
</Group>
<Group labelreference="L2172" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">if codegen_act and codegen_debug then
  for i from 1 to 3 do
    for j from 1 to NQJ do
      MatlabExport(b_rotg(i,j), sprintf(&quot;../codeexport/%s/tmp/jacobig_rot_%d_floatb_%s_%d_%d_matlab.m&quot;, robot_name, LIJAC, base_method_name, i, j), codegen_opt):
    end do:
  end do:
end if:</Text-field>
</Input>
</Group>
<Group labelreference="L2173" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">if codegen_act then
  MatlabExport(b_rotg, sprintf(&quot;../codeexport/%s/tmp/jacobig_rot_%d_floatb_%s_matlab.m&quot;, robot_name, LIJAC, base_method_name), codegen_opt):
end if:</Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1">Jacobi-Matrix der Rotationsmatrix (Rotatorisch)</Text-field></Title>
<Group labelreference="L2127" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field style="Text" layout="Normal"><Font encoding="UTF-8">Ableitung der Rotationsmatrix nach den Gelenkwinkel (kann z.B. f\303\274r die inverse Kinematik benutzt werden)</Font></Text-field>
</Input>
</Group>
<Group labelreference="L2185" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">R_0_i_s := convert_t_s( Trf_c(1 .. 3, 1..3, LIJAC+1) ):</Text-field>
</Input>
</Group>
<Group labelreference="L2186" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">Rb_0_i_s :=Reshape(R_0_i_s, 9,1):</Text-field>
</Input>
</Group>
<Group labelreference="L2188" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">J_Rb := Matrix(9, NQJ):</Text-field>
</Input>
</Group>
<Group labelreference="L2189" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">for i from 1 to 9 do
  for j from 1 to NQJ do
    J_Rb(i,j) := diff(Rb_0_i_s(i,1), qJ_s(j,1)):
  end do:
end do:</Text-field>
</Input>
</Group>
<Group labelreference="L2191" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">save J_Rb, sprintf(&quot;../codeexport/%s/tmp/jacobiR_rot_%d_floatb_%s_maple.m&quot;, robot_name, LIJAC, base_method_name):</Text-field>
</Input>
</Group>
<Group labelreference="L2190" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">if codegen_act then
  MatlabExport(J_Rb, sprintf(&quot;../codeexport/%s/tmp/jacobiR_rot_%d_floatb_%s_matlab.m&quot;, robot_name, LIJAC, base_method_name), codegen_opt):
end if:</Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1"></Text-field></Title>
<Group labelreference="L2126" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
</Section>
<Section collapsed="false" isCollapsible="true" drawButton="true" MultipleChoiceAnswerIndex="-1" MultipleChoiceRandomizeChoices="false" TrueFalseAnswerIndex="-1" EssayAnswerRows="5" EssayAnswerColumns="60"><Title><Text-field style="Heading 1" layout="Heading 1">Jacobi-Zeitableitung</Text-field></Title>
<Group labelreference="L1777" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">JD_rotg_t := diff~(convert_s_t(b_rotg), t):
JD_rotg_s := convert_t_s(JD_rotg_t):</Text-field>
</Input>
</Group>
<Group labelreference="L1778" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">JD_rota_t := diff~(convert_s_t(b_rota), t):
JD_rota_s := convert_t_s(JD_rota_t):</Text-field>
</Input>
</Group>
<Group labelreference="L1779" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">JD_transla_t := diff~(convert_s_t(b_transl), t):
JD_transla_s := convert_t_s(JD_transla_t):</Text-field>
</Input>
</Group>
<Group labelreference="L1780" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">if codegen_act then
  MatlabExport(JD_rotg_s, sprintf(&quot;../codeexport/%s/tmp/jacobigD_rot_%d_floatb_%s_matlab.m&quot;, robot_name, LIJAC, base_method_name), codegen_opt):
end if:</Text-field>
</Input>
</Group>
<Group labelreference="L1781" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">if codegen_act then
  MatlabExport(JD_rota_s, sprintf(&quot;../codeexport/%s/tmp/jacobiaD_rot_%d_floatb_%s_matlab.m&quot;, robot_name, LIJAC, base_method_name), codegen_opt):
end if:</Text-field>
</Input>
</Group>
<Group labelreference="L1782" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal">if codegen_act then
  MatlabExport(JD_transla_s, sprintf(&quot;../codeexport/%s/tmp/jacobiaD_transl_%d_floatb_%s_matlab.m&quot;, robot_name, LIJAC, base_method_name), codegen_opt):
end if:</Text-field>
</Input>
</Group>
<Group labelreference="L1783" drawlabel="true">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
<Group labelreference="L2125" drawlabel="true" applyint="true" applyrational="true" applyexponent="false">
<Input><Text-field prompt="&gt; " style="Maple Input" layout="Normal"></Text-field>
</Input>
</Group>
</Section>
</Worksheet>